{% extends 'hagakure/base.html' %}
{% load static %}
{% block body %}
    <div class="container-fluid p-3 text-center bg-light border-top border-bottom border-dark">
        <h1>Edytuj Artykuł {{ article.title }}</h1>
    </div>
	<div class="container-fluid p-3 text-center bg-light border-bottom border-dark">
		<div class="row justify-content-center">
            <div class="container">
                <div class="col-sm">
                    <form action="" method="POST">
                        <div class="form-group row justify-content-center py-3">
                            <div class="col-sm-4">
                                <label for="title">Tytuł:</label>
                                <input id="title" class="form-control" type="text" placeholder="Tytuł" name="title" value="{{ article.title }}">
                            </div>
                        </div>
                        <div class="container-fuid py-3 justify-content-center">
                            <div class="form-group row justify-content-center">
                                <div class="col-sm-2">
                                    <label for="category">Kategorie:</label>
                                    <select id="category" class="form-control text-center" name="category" multiple>
                                        {% for category in categories %}
                                            <option value="{{ category.name }}"
                                                {% if category in article.category.all %}
                                                    selected
                                                {% endif %}
                                                >
                                                {{ category.name }}
                                            </option>
                                        {% endfor %}
                                    <select>
                                </div>
                            </div>
                            <div class="form-group row justify-content-center mt-0">
                                <div class="col-sm-6">
                                    <small>
                                        Możesz wybrać więcej niż jedną kategorię przytrzymujac <kbd>Ctrl</kbd>
                                    </small>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row justify-content-center">
                            <div class="col-sm">
                                <textarea name="content" class="form-control rounded-0" rows="20" id="editor">
                                    {{ article.body }}
                                </textarea>
                            </div>
                        </div>
                        <div class="form-group row justify-content-center btn-group">
                            <div class="col-sm">
                                <input type="submit" class="form-control btn btn-secondary btn-block" value="Zapisz">
                                <a class="btn btn-danger btn-block" href="{%url 'article_list' %}">Anuluj</a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
		</div>
	</div>
	<script>
        ClassicEditor
            .create( document.querySelector( '#editor' ) )
            .catch( error => {
                console.error( error );
            } );
    </script>

{% endblock %}
</body>